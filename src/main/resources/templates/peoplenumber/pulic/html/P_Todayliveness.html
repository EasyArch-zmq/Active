<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<!--    //echarts-->
    <script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
    <script src="../static/assets/js/jquery.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href='http://fonts.useso.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:400,400italic,700,600,600italic' rel='stylesheet' type='text/css'>
    <link href="../static/css/five.css" rel="stylesheet">
    <title>主页</title>
    <style>


    </style>
</head>

<!--//头部-->
<nav class="box navbar navbar-default navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
        </div>
        <span class="navbar-header page-scroll">
            <a class="navbar-brand page-scroll" id="address1"  style="font-size: 30px">
                天津职业技术师范大学</a>
        </span>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="hidden"> <a href=""></a> </li>
                <li> <a href="http://121.199.21.197:63393/p_main" class="page-scroll" >主页</a> </li>
                <li> <a href="http://121.199.21.197:63393/P_TodayAccount" class="page-scroll" >人数统计图</a> </li>
                <li> <a href="http://121.199.21.197:63393/P_Todayliveness" class="page-scroll" style="color:#0FB9EF;">活跃度排行榜</a> </li>
                <li> <a class="page-scroll">用户名：<span id="user">张三</span></a> </li>
                <li> <a class="page-scroll" ></a> </li>
                <li> <a class="page-scroll"></a> </li>
                <li> <a class="page-scroll" href="http://121.199.21.197:63393/Login">退出当前用户</a> </li>
            </ul>
        </div>
    </div>
</nav>
<!--//body-->
<div id="header">
    <div class="container" style="height:100% " >
        <div style="margin-top: 120px;">
            <h3 style="margin-bottom: 20px;text-align: center">活跃度显示排行榜</h3>
            <h4 onclick="small()" style="margin-bottom: 15px;margin-left: 15%;">按时间时间查询</h4>
            <div id='main' style="width:100%;height:500px;float:right;">
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('main'));
    var charts = { // 按顺序排列从大到小
        cityList: ['大堂', '雅间', '雅致', '丽水', '清风'],
        cityData: [800, 700, 600, 500, 400]
    }
    var top10CityList = charts.cityList
    var top10CityData =  charts.cityData
    var onlymine=[];
    for(let i=0; i<top10CityData.length; i++){
        onlymine[i]=top10CityData[top10CityData.length-1-i];
    }
    console.log(onlymine);  // 输出： ["你", "欢", "喜", "我"]

    var color = ['rgba(248,195,248', 'rgba(100,255,249', 'rgba(135,183,255', 'rgba(248,195,248', 'rgba(100,255,249']

    let lineY = []
    for (var i = 0; i < charts.cityList.length; i++) {
        var x = i
        if (x > color.length - 1) {
            x = color.length - 1
        }
        var data = {
            name: charts.cityList[i],
            color: color[x] + ')',
            value: top10CityData[i],
            itemStyle: {
                normal: {
                    show: true,
                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                        offset: 0,
                        color: color[x] + ', 0.5)'
                    }, {
                        offset: 1,
                        color: color[x] + ', 1)'
                    }], false),
                    barBorderRadius: 10
                },
                emphasis: {
                    shadowBlur: 15,
                    shadowColor: 'rgba(0, 0, 0, 0.1)'
                }
            }
        }
        lineY.push(data)
    }

    console.log(lineY)
    option= {
        backgroundColor:'#B7B7B7',
        title: {
            show: false
        },
        tooltip: {
            trigger: 'item'
        },
        grid: {
            borderWidth: 0,
            top: '5%',
            left: '5%',
            right: '15%',
            bottom: '3%'
        },
        color: color,
        yAxis: [{
            type: 'category',
            inverse: true,
            axisTick: {
                show: false
            },
            axisLine: {
                show: false
            },
            axisLabel: {
                show: false,
                inside: false
            },
            data: top10CityList
        }, {
            type: 'category',
            axisLine: {
                show: false
            },
            axisTick: {
                show: false
            },
            axisLabel: {
                show: true,
                inside: false,
                textStyle: {
                    color: '#FFF',
                    fontSize: '14',
                    bottom:'100',
                    fontFamily: 'PingFangSC-Regular'
                },
                formatter: function (val) {
                    return `${val}人`
                }
            },
            splitArea: {
                show: false
            },
            splitLine: {
                show: false
            },
            data:onlymine
        }],
        xAxis: {
            type: 'value',
            axisTick: {
                show: false
            },
            axisLine: {
                show: false
            },
            splitLine: {
                show: false
            },
            axisLabel: {
                show: false
            }
        },
        series: [{
            name: '',
            type: 'bar',
            zlevel: 2,
            barWidth: '25px',
            data: lineY,
            animationDuration: 1500,
            label: {
                normal: {
                    color: '#FFF',
                    show: true,
                    position: [0, '-24px'],
                    textStyle: {
                        fontSize: 18
                    },
                    formatter: function (a, b) {
                        return a.name
                    }
                }
            }
        }],
        animationEasing: 'cubicOut'
    }
    myChart.setOption(option);

</script>

</body>
</html>
